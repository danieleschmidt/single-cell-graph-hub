# Single-Cell Graph Hub Environment Variables

# =============================================================================
# Core Configuration
# =============================================================================

# Environment (development, staging, production)
ENVIRONMENT=development

# Debug mode
DEBUG=true

# Application settings
APP_NAME=single-cell-graph-hub
APP_VERSION=0.1.0

# =============================================================================
# Data Storage & Catalog
# =============================================================================

# Dataset storage
DATA_ROOT_DIR=/data/scgraph_hub
CACHE_DIR=/tmp/scgraph_hub_cache

# Dataset catalog configuration
SCGRAPH_CATALOG_URL=https://api.scgraphhub.org/v1/catalog
CATALOG_CACHE_TTL=3600

# Dataset download settings
DOWNLOAD_TIMEOUT=300
MAX_DOWNLOAD_RETRIES=3
CHUNK_SIZE=8192

# =============================================================================
# Database Configuration
# =============================================================================

# PostgreSQL for metadata storage
DATABASE_URL=postgresql://username:password@localhost:5432/scgraph_hub
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20

# Redis for caching
REDIS_URL=redis://localhost:6379/0
REDIS_TTL=3600

# =============================================================================
# Cloud Storage
# =============================================================================

# AWS S3 Configuration
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
AWS_REGION=us-west-2
S3_BUCKET_NAME=scgraph-hub-datasets
S3_ENDPOINT_URL=https://s3.amazonaws.com

# Google Cloud Storage (alternative)
GCS_BUCKET_NAME=scgraph-hub-datasets
GCS_PROJECT_ID=your-project-id
GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account.json

# =============================================================================
# Compute Configuration
# =============================================================================

# CUDA settings
CUDA_VISIBLE_DEVICES=0,1,2,3
TORCH_HOME=/tmp/torch_cache
TORCH_CUDA_ARCH_LIST="6.0;6.1;7.0;7.5;8.0;8.6"

# Distributed training
MASTER_ADDR=localhost
MASTER_PORT=12355
WORLD_SIZE=1
RANK=0

# Memory management
MAX_MEMORY_USAGE=0.8
OMP_NUM_THREADS=4

# =============================================================================
# Model & Training Configuration
# =============================================================================

# Model storage
MODEL_CACHE_DIR=/tmp/model_cache
PRETRAINED_MODELS_URL=https://models.scgraphhub.org

# Training defaults
DEFAULT_BATCH_SIZE=32
DEFAULT_LEARNING_RATE=0.001
DEFAULT_NUM_EPOCHS=100

# Experiment tracking
MLFLOW_TRACKING_URI=http://localhost:5000
WANDB_PROJECT=single-cell-graph-hub
WANDB_ENTITY=your-wandb-entity

# =============================================================================
# API Configuration
# =============================================================================

# FastAPI settings
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4
API_RELOAD=true

# Authentication
JWT_SECRET_KEY=your-super-secret-jwt-key
ACCESS_TOKEN_EXPIRE_MINUTES=30

# Rate limiting
RATE_LIMIT_PER_MINUTE=100
RATE_LIMIT_BURST=20

# =============================================================================
# Monitoring & Logging
# =============================================================================

# Logging configuration
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE=/var/log/scgraph_hub.log

# Prometheus metrics
METRICS_PORT=9090
METRICS_PATH=/metrics

# Sentry error tracking
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# Health checks
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10

# =============================================================================
# Development Tools
# =============================================================================

# Jupyter configuration
JUPYTER_PORT=8888
JUPYTER_TOKEN=development-token

# TensorBoard
TENSORBOARD_PORT=6006
TENSORBOARD_LOG_DIR=/tmp/tensorboard_logs

# Testing
PYTEST_PARALLEL=auto
COVERAGE_THRESHOLD=90

# =============================================================================
# External Services
# =============================================================================

# Scanpy/AnnData backend
ANNDATA_BACKED_FORMAT=zarr

# HuggingFace Hub
HF_HOME=/tmp/hf_cache
HF_DATASETS_CACHE=/tmp/hf_datasets_cache

# Bioinformatics databases
ENSEMBL_REST_URL=https://rest.ensembl.org
UNIPROT_REST_URL=https://rest.uniprot.org

# =============================================================================
# Security Configuration
# =============================================================================

# SSL/TLS
SSL_CERT_PATH=/etc/ssl/certs/server.crt
SSL_KEY_PATH=/etc/ssl/private/server.key

# CORS settings
CORS_ORIGINS=http://localhost:3000,http://localhost:8080
CORS_ALLOW_CREDENTIALS=true

# Data encryption
ENCRYPTION_KEY=your-32-character-encryption-key
HASH_SALT=your-random-salt-string

# =============================================================================
# Performance Tuning
# =============================================================================

# Memory optimization
PYTORCH_CUDA_ALLOC_CONF=max_split_size_mb:128
CUDA_LAUNCH_BLOCKING=0

# I/O optimization
TORCH_CUDNN_BENCHMARK=true
TORCH_BACKENDS_CUDNN_DETERMINISTIC=false

# Networking
HTTP_TIMEOUT=30
CONNECTION_POOL_SIZE=100
MAX_CONNECTIONS=1000

# =============================================================================
# Development Overrides
# =============================================================================

# Use local files instead of downloads (for development)
USE_LOCAL_DATASETS=false
LOCAL_DATASETS_PATH=/local/datasets

# Skip expensive operations (for testing)
SKIP_HEAVY_COMPUTATIONS=false
MOCK_EXTERNAL_APIS=false

# Development database (SQLite for simplicity)
DEV_DATABASE_URL=sqlite:///./scgraph_hub_dev.db