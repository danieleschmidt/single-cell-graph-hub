# ===============================================================================
# Single-Cell Graph Hub - Environment Configuration Template
# ===============================================================================
#
# This file contains all environment variables needed for the Single-Cell Graph Hub.
# Copy this file to .env and fill in the appropriate values for your environment.
#
# IMPORTANT: Never commit .env files to version control!
#
# Usage:
#   1. Copy this file: cp .env.template .env
#   2. Fill in the values below
#   3. Source the file: source .env (or use direnv)

# ===============================================================================
# Application Configuration
# ===============================================================================

# Application environment (development, testing, staging, production)
SCGRAPH_ENV=development

# Debug mode (true/false)
SCGRAPH_DEBUG=true

# Development mode (enables additional debugging features)
SCGRAPH_DEV_MODE=true

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=DEBUG

# Secret key for session management (generate with: python -c "import secrets; print(secrets.token_hex(32))")
SECRET_KEY=your-secret-key-here

# ===============================================================================
# Database Configuration
# ===============================================================================

# PostgreSQL database URL
# Format: postgresql://username:password@host:port/database_name
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/scgraph_hub

# Database connection pool settings
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_TIMEOUT=30

# Database migration settings
DB_AUTO_MIGRATE=false

# ===============================================================================
# Redis Configuration
# ===============================================================================

# Redis URL for caching and session storage
# Format: redis://username:password@host:port/db_number
REDIS_URL=redis://localhost:6379/0

# Redis connection pool settings
REDIS_POOL_SIZE=10
REDIS_SOCKET_TIMEOUT=5

# ===============================================================================
# Object Storage (MinIO/S3)
# ===============================================================================

# MinIO/S3 endpoint
S3_ENDPOINT_URL=http://localhost:9000

# S3 access credentials
S3_ACCESS_KEY_ID=minioadmin
S3_SECRET_ACCESS_KEY=minioadmin

# S3 bucket names
S3_BUCKET_DATASETS=scgraph-datasets
S3_BUCKET_MODELS=scgraph-models
S3_BUCKET_RESULTS=scgraph-results

# S3 region
S3_REGION=us-east-1

# ===============================================================================
# Authentication & Security
# ===============================================================================

# JWT settings
JWT_SECRET_KEY=your-jwt-secret-key-here
JWT_ACCESS_TOKEN_EXPIRES_HOURS=24
JWT_REFRESH_TOKEN_EXPIRES_DAYS=30

# OAuth providers (optional)
GITHUB_CLIENT_ID=your-github-client-id
GITHUB_CLIENT_SECRET=your-github-client-secret

GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret

# CORS settings
CORS_ORIGINS=http://localhost:3000,http://localhost:8080

# ===============================================================================
# Machine Learning Configuration
# ===============================================================================

# PyTorch settings
TORCH_HOME=/tmp/torch
PYTORCH_CUDA_ALLOC_CONF=max_split_size_mb:128

# CUDA settings (if using GPU)
CUDA_VISIBLE_DEVICES=0
CUDA_LAUNCH_BLOCKING=0

# Model storage settings
MODEL_CACHE_DIR=/tmp/models
MAX_MODEL_CACHE_SIZE_GB=10

# Training settings
DEFAULT_BATCH_SIZE=32
DEFAULT_LEARNING_RATE=0.001
DEFAULT_MAX_EPOCHS=100

# ===============================================================================
# API Configuration
# ===============================================================================

# API versioning
API_VERSION=v1

# Rate limiting
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_BURST=10

# API documentation
API_DOCS_ENABLED=true
API_DOCS_URL=/docs

# External API keys
OPENAI_API_KEY=your-openai-api-key-here
HUGGINGFACE_API_TOKEN=your-huggingface-token-here

# ===============================================================================
# Monitoring & Observability
# ===============================================================================

# Metrics collection
METRICS_ENABLED=true
METRICS_PORT=9090

# Prometheus settings
PROMETHEUS_ENDPOINT=http://localhost:9090

# Sentry error tracking
SENTRY_DSN=your-sentry-dsn-here
SENTRY_ENVIRONMENT=development

# DataDog APM (optional)
DD_AGENT_HOST=localhost
DD_TRACE_AGENT_PORT=8126
DD_SERVICE=scgraph-hub
DD_ENV=development

# OpenTelemetry settings
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317
OTEL_SERVICE_NAME=scgraph-hub
OTEL_RESOURCE_ATTRIBUTES=service.name=scgraph-hub,service.version=0.1.0

# ===============================================================================
# Testing Configuration
# ===============================================================================

# Test database (should be separate from development database)
TEST_DATABASE_URL=postgresql://postgres:postgres@localhost:5432/scgraph_hub_test

# Test Redis database
TEST_REDIS_URL=redis://localhost:6379/1

# Test settings
PYTEST_TIMEOUT=300
SKIP_SLOW_TESTS=false
SKIP_GPU_TESTS=true
SKIP_INTEGRATION_TESTS=false

# ===============================================================================
# Development Tools
# ===============================================================================

# Auto-reload settings
AUTO_RELOAD=true
RELOAD_DIRS=src/,tests/

# Debug toolbar
DEBUG_TOOLBAR_ENABLED=true

# Profiling
PROFILING_ENABLED=false
PROFILING_OUTPUT_DIR=/tmp/profiling

# ===============================================================================
# Container & Deployment
# ===============================================================================

# Container settings
CONTAINER_USER=scgraph
CONTAINER_GROUP=scgraph

# Health check settings
HEALTH_CHECK_PATH=/health
HEALTH_CHECK_TIMEOUT=30

# Load balancer settings
BEHIND_PROXY=false
PROXY_HEADERS=X-Forwarded-For,X-Forwarded-Proto

# ===============================================================================
# CI/CD & Automation
# ===============================================================================

# GitHub Actions settings (for local testing)
GITHUB_TOKEN=your-github-token-here
GITHUB_REPOSITORY=danieleschmidt/single-cell-graph-hub

# Docker registry
DOCKER_REGISTRY=ghcr.io
DOCKER_USERNAME=your-docker-username
DOCKER_PASSWORD=your-docker-token

# Deployment settings
DEPLOY_ENV=development
DEPLOY_BRANCH=main

# ===============================================================================
# External Services
# ===============================================================================

# Email settings (for notifications)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_USE_TLS=true

# Slack notifications
SLACK_WEBHOOK_URL=https://hooks.slack.com/your-webhook-url
SLACK_CHANNEL=#scgraph-notifications

# ===============================================================================
# Performance & Optimization
# ===============================================================================

# Worker processes
WORKER_PROCESSES=4
WORKER_CONNECTIONS=1000
WORKER_TIMEOUT=30

# Caching
CACHE_TTL_SECONDS=3600
CACHE_MAX_SIZE_MB=512

# File upload limits
MAX_UPLOAD_SIZE_MB=100
MAX_REQUEST_SIZE_MB=150

# ===============================================================================
# Research & Domain Specific
# ===============================================================================

# Single-cell analysis settings
DEFAULT_CELL_COUNT_THRESHOLD=1000
DEFAULT_GENE_COUNT_THRESHOLD=500
DEFAULT_QUALITY_CUTOFF=0.8

# Graph neural network settings
DEFAULT_HIDDEN_CHANNELS=64
DEFAULT_NUM_LAYERS=3
DEFAULT_DROPOUT=0.2

# Pathway analysis
PATHWAY_DATABASE_URL=https://www.gsea-msigdb.org/gsea/msigdb
PATHWAY_CACHE_HOURS=168  # 1 week

# Gene ontology settings
GO_DATABASE_URL=http://geneontology.org/
GO_CACHE_HOURS=24

# ===============================================================================
# Backup & Recovery
# ===============================================================================

# Backup settings
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=scgraph-backups

# ===============================================================================
# Experimental Features
# ===============================================================================

# Feature flags
ENABLE_EXPERIMENTAL_FEATURES=false
ENABLE_GPU_ACCELERATION=false
ENABLE_DISTRIBUTED_TRAINING=false
ENABLE_AUTO_ML=false

# ===============================================================================
# Local Development Overrides
# ===============================================================================

# Override any of the above settings for local development
# Example:
# LOCAL_OVERRIDE_DATABASE_URL=sqlite:///local.db
# LOCAL_OVERRIDE_LOG_LEVEL=INFO